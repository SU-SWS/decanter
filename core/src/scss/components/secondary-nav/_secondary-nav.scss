//
// Secondary Navigation
//
// The secondary site navigation that is...
//
// .su-secondary-nav--no-interactivity - A plain option with no javascript interactivity.
// .su-secondary-nav--light   - Light theme with white background. This variant is often used instead of the default.
// .su-secondary-nav--buttons - Button toggles instead of link toggles.
// .su-secondary-nav--buttons-light - Button toggles instead of link toggles, light edition.
//
// Markup: ../templates/components/secondary-nav/secondary-nav.twig
//
// Style guide: Components.Secondary Navigation
//

// Default styles for secondary nav core elements.
.su-secondary-nav {
  @include font-smoothing;
  background-color: color(bg, $su-secondary-nav-colors);

  &.no-js {
    .su-secondary-nav__menu {
      display: block;
    }
  }
}

// Global styles for nested menu items.
// ---------------------------------------------------------------------------
.su-secondary-nav__menu {
  @include margin(0 null);
  display: flex;
  flex-direction: column;
  width: 100%;
  list-style: none;
  background-color: color(bg, $su-secondary-nav-colors);
}

// Global styles for list items.
// ---------------------------------------------------------------------------
.su-secondary-nav__item {
  @include margin(null null 0);
}

// Global styles for secondary nav links.
// ---------------------------------------------------------------------------
.su-secondary-nav__link {
  @include fancy-hover(
    color(border--hover, $su-secondary-nav-colors),
    color(border--active, $su-secondary-nav-colors),
    'left'
  );
  @include padding(1.6rem 4.8rem 1.6rem 2.4rem);
  display: block;
  color: color(link, $su-secondary-nav-colors);
  font-weight: $su-font-semi-bold;
  font-size: 1.8rem;
  border-top: color(divider, $su-secondary-nav-colors) solid 1px;
  outline: 0;

  &:focus,
  &:hover {
    color: color(link, $su-secondary-nav-colors);
    text-decoration: underline;
  }
}

// First level items
// ---------------------------------------------------------------------------
.su-secondary-nav__menu-lv1 {
  > .su-secondary-nav__item {
    .su-secondary-nav__link {
      font-weight: $su-font-bold;
    }
  }
}

// Secondary Level Items
// ---------------------------------------------------------------------------
.su-secondary-nav__menu-lv2 {
  .su-secondary-nav__item {
    &:last-child {
      @include padding(0.1rem null 0.6rem null);
    }

    .su-secondary-nav__link {
      @include padding(.8rem 4.8rem .8rem 2.4rem);
      border: none;
      font-size: 1.8rem;
    }
  }
}

.su-secondary-nav__menu-lv2 {
  .su-nav-toggle {
    height: 39px;
    max-height: 39px;
    line-height: 39px;
  }
}

// Third level items.
// ---------------------------------------------------------------------------
.su-secondary-nav__menu-lv3 {
  .su-secondary-nav__link {
    font-size: 1.6rem;
  }
}

// States.
// ---------------------------------------------------------------------------

.su-secondary-nav__item--parent {

  > .su-secondary-nav__menu {
    display: none;
  }

  > .su-secondary-nav__link {
    &::after {
      transition: transform 0.3s ease-out;
      background: url("#{$su-image-path}/plus-white.svg") no-repeat 0 0;
      background-size: 100%;
      content: "";
      display: inline-block;
      position: absolute;
      right: 2rem;
      top: calc(50% - 8px);
      height: 1.8rem;
      width: 1.8rem;
    }
  }

  &.su-secondary-nav__item--expanded {
    > .su-secondary-nav__menu {
      display: flex;
    }

    > .su-secondary-nav__link {
      &::after {
        background: url("#{$su-image-path}/minus-white.svg") no-repeat 0 0;
        transform: rotate(180deg);
        transition: transform 0.3s ease-out;
      }
    }
  }
}

.su-secondary-nav__item--current {
  > .su-secondary-nav__link {
    font-weight: $su-font-bold;

    &::before {
      visibility: visible;
      height: 100%;
      width: 6px;
      transform: scaleY(1);
      background-color: color(border--active, $su-secondary-nav-colors);
    }

    &:hover,
    &:focus {
      &::before {
        left: 6px;
        transition: left 0.1s ease-out;
        background-color: color(border--active, $su-secondary-nav-colors);
      }
    }
  }
}
