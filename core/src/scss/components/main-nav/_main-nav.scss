@charset "UTF-8";
//
// Main Navigation
//
// The primary site navigation that is usually in the header region of a website.
// It is a horizontal menu bar on larger breakpoints, while on smaller breakpoints,
// it changes into a vertical menu and can be expanded or collapsed by a toggle button.
//
// The following Javascript events are dispatched:
// - `openNav` - fires when a mobile nav is opened - dispatched on `.su-main-nav`
// - `closeNav` - fires when a mobile nav is closed - dispatched on `.su-main-nav`
// - `openSubnav` - fires when a subnav is opened - dispatched on `li.su-main-nav__item--parent`
// - `closeSubnav` - fires when a subnav is closed - dispatched on `li.su-main-nav__item--parent`
//
// The Main Navigation component is implemented to be accessible. For more information on building
// accessible site navigation, please see
// <a href="https://github.com/SU-SWS/decanter/wiki/About-the-Main-Nav-Component">About the Main Nav Component</a>
// on Decanter's wiki.
//
//**Modifier classes for the Main Nav:**
// - .su-main-nav--light          - Light colored theme
// - .su-main-nav--dark           - Light on dark theme (for use on dark background colors).
// Note: The dark background color in below example is just for demo. The actual background is transparent.
// - .su-main-nav-search  - Include search form inside the mobile nav
// - .su-main-nav--center         - Center both the desktop and mobile nav
// - .su-main-nav--right          - Right justify both the desktop and mobile nav
//
//**Modifier classes for the hamburger toggle button:**
// - .su-main-nav__toggle--center - Center only the toggle
// - .su-main-nav__toggle--right - Right justify only the toggle
//
// .su-main-nav--light          - Light colored theme
// .su-main-nav--dark           - Light on dark theme (for use on dark background colors).
// The dark background color in below example is just for demo. The actual background is transparent.
// .su-main-nav-search  - Include search form inside the mobile nav
// .su-main-nav--center         - Center both the desktop and mobile nav
// .su-main-nav--right          - Right justify both the desktop and mobile nav
//
// Markup: ../templates/components/main-nav/main-nav.twig
//
// Style guide: Components.Main Navigation
//

.su-main-nav {
  @include font-smoothing;
  @include sans;
  display: block;
  position: relative;
  z-index: 9999;

  // All ul contaiers.
  ul {
    @extend %nav-menu;
  }

  // All li items.
  li {
    @extend %nav-item;
  }

  a {
    @extend %nav-item-link;
  }

  // Second Level Drop Downs.
  > ul > li > ul {
    @include padding(null null null 2rem);

    // Desktop dropdown menu
    @include grid-media('lg') {
      @include padding(1px null null 1.2rem);
      @include margin(null null null -1.8rem);
      @include box-shadow($depth: 'medium', $stroke: none);
      z-index: 11111; //When menu wrap to 2nd line make sure dropdown covers up top level links
      position: absolute;
      max-width: 30rem;

      li:last-child {
        a {
          border-bottom: 0;
        }
      }
    }
  }

  // When js is disabled, submenus is visible when parent trigger is hovered
  &.no-js {
    //Expand everything on mobile
    @include grid-media-max('md') {
      .su-main-nav__toggle[aria-expanded="false"] + .su-main-nav__menu-lv1 {
        display: flex;
      }

      li > ul {
        display: flex;
      }
    }

    // On desktop, if mouse user hovers over a parent menu item,
    // submenu is expanded
    @include grid-media('lg') {
      li:hover > ul {
        display: flex;
      }
    }
  }
}

.su-main-nav__item--parent {
  @extend %nav-item--parent;

  // All children menus have the same color.
  > ul {
    background-color: color(bg, $nav-colors);
  }

  &.su-main-nav__item--expanded {
    @extend %nav-item--expanded;
  }
}

.su-main-nav__item--current {
  @extend %nav-item--current;
}
