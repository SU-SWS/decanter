@charset "UTF-8";

//
// color($color, $palette: $core-colors, $theme: default)
//
// Return a color from a color map. If only a color is specified, then it returns a color from $core-colors.
//
// Style guide: Functions.Color
//

@function color($color, $palette: $core-colors, $theme: default) {
  @if $palette == $core-colors {
    @if map-has-key($core-colors, $color) {
      $color: map-get($core-colors, $color);
    }
    @else {
      @warn "Check that `#{$color}` is in color map $core-colors."
    }
  }
  @else {

    @if $theme == default {
      @if map-has-key($palette, $color) {
        $color: map-get($palette, $color);
      }
      @else {
        @warn "Check that `#{$color}` is in color map."
      }
    }
    @else {

      @if map-has-key($palette, $theme) {
        $theme: map-get($palette, $theme);

        @if map-has-key($theme, $color) {
          $color: map-get($theme, $color);
        }
        @else {
          @warn "Check that `#{$color}` is in the theme."
        }
      }
      @else {
        @warn "Check that theme exists in the color map."
      }
    }
  }

  @return $color;
}
